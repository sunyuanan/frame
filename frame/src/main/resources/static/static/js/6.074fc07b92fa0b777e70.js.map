{"version":3,"sources":["webpack:///src/views/SqlInjection.vue","webpack:///./src/views/SqlInjection.vue?0ed2","webpack:///./src/views/SqlInjection.vue"],"names":["SqlInjection","name","data","sql","title","tableData","show","tables","views","tabH","selectedText","created","obj","Object","staticType","this","mounted","_this","decodeURIComponent","onmousedown","event","window","getSelection","removeAllRanges","document","selection","empty","onmouseup","toString","createRange","text","onkeydown","e","code","getSqlInjection","showTables","methods","selectData","table","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","result","wrap","_context","prev","next","httpApi","then","response","$message","error","msg","sent","initTable","stop","_this3","_callee2","i","_context2","length","tableComment","push","tableName","_this4","_callee3","_context3","key","showWidth","val","width","views_SqlInjection","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","height","attrs","span","_v","_l","itme","on","click","$event","_s","size","type","directives","rawName","value","expression","id","domProps","input","target","composing","font-size","border","max-height","item","index","label","show-overflow-tooltip","scopedSlots","_u","fn","scope","row","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"6KAsCAA,GACAC,KAAA,eACAC,KAFA,WAGA,OACAC,IAAA,GACAC,SACAC,aACAC,MAAA,EACAC,UACAC,SACAC,KAAA,EACAC,aAAA,KAIAC,QAfA,WAgBA,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAA,KACAE,KAAAN,KAAAG,EAAAH,MAGAO,QApBA,WAqBA,IAAAC,EAAAF,KACAG,mBAAAC,YAAA,SAAAC,GACAC,OAAAC,aACAD,OAAAC,eAAAC,kBACAC,SAAAC,UAAAC,SAGAF,SAAAG,UAAA,SAAAP,GAEA,IAAAV,EAAA,KAQA,OALAA,EAFAW,OAAAC,aAEAD,OAAAC,eAAAM,WAGAJ,SAAAC,UAAAI,cAAAC,QAGAb,EAAAP,iBAIAc,SAAAO,UAAA,SAAAC,GACA,MAAAA,EAAAC,MACAhB,EAAAiB,mBAGAnB,KAAAoB,cAEAC,SACAC,WADA,SACAC,GAAA,IAAAC,EAAAxB,KAAA,OAAAyB,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAzC,EAAA0C,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACA9C,EAAA,iBAAAmC,EADAS,EAAAE,KAAA,EAEApC,OAAAqC,EAAA,GAAArC,CAAAV,GAAAgD,KAAA,SAAAjD,GACA,IAAAkD,EAAAlD,OACA,WAAAkD,EAAAnB,KACAmB,EAAAlD,KAEAqC,EAAAc,SAAAC,MAAAF,EAAAG,OAPA,OAEAV,EAFAE,EAAAS,KAWAjB,EAAAkB,UAAAZ,GAXA,wBAAAE,EAAAW,SAAAd,EAAAL,KAAAC,IAaAL,WAdA,WAcA,IAAAwB,EAAA5C,KAAA,OAAAyB,IAAAC,EAAAC,EAAAC,KAAA,SAAAiB,IAAA,IAAAf,EAAAgB,EAAA,OAAApB,EAAAC,EAAAI,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cAAAa,EAAAb,KAAA,EACApC,OAAAqC,EAAA,EAAArC,GAAAsC,KAAA,SAAAjD,GACA,IAAAkD,EAAAlD,OACA,WAAAkD,EAAAnB,KACAmB,EAAAlD,KAEAyD,EAAAN,SAAAC,MAAAF,EAAAG,OANA,OAaA,IAZAV,EADAiB,EAAAN,KAUAG,EAAApD,UACAoD,EAAAnD,SAEAqD,EAAA,EAAAA,EAAAhB,EAAAkB,OAAAF,IACA,QAAAhB,EAAAgB,GAAAG,aACAL,EAAAnD,MAAAyD,KAAApB,EAAAgB,GAAAK,WAEAP,EAAApD,OAAA0D,KAAApB,EAAAgB,GAAAK,WAjBA,wBAAAJ,EAAAJ,SAAAE,EAAAD,KAAAnB,IAqBAN,gBAnCA,WAmCA,IAAAiC,EAAApD,KAAA,OAAAyB,IAAAC,EAAAC,EAAAC,KAAA,SAAAyB,IAAA,IAAAjE,EAAA0C,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,cACA9C,EAAAgE,EAAAhE,IACA,IAAAgE,EAAAzD,cAAA,MAAAyD,EAAAzD,eACAP,EAAAgE,EAAAzD,cAHA2D,EAAApB,KAAA,EAKApC,OAAAqC,EAAA,GAAArC,CAAAV,GAAAgD,KAAA,SAAAjD,GACA,IAAAkD,EAAAlD,OACA,WAAAkD,EAAAnB,KACAmB,EAAAlD,KAEAiE,EAAAd,SAAAC,MAAAF,EAAAG,OAVA,OAKAV,EALAwB,EAAAb,KAcAW,EAAAV,UAAAZ,GAdA,wBAAAwB,EAAAX,SAAAU,EAAAD,KAAA3B,IAiBAiB,UApDA,SAoDAZ,GAEA,QAAAyB,KADAvD,KAAAX,SACAyC,EAAA,GACA9B,KAAAX,MAAA6D,KAAAK,GAEAvD,KAAAV,UAAAwC,GAEA0B,UA3DA,SA2DAC,GACA,IAAAC,EAAA,IAAAD,EAAAT,OAAA,GAOA,MANA,MAAAS,GAAA,MAAAA,IACAC,EAAA,KAEA,MAAAD,GAAA,MAAAA,IACAC,EAAA,KAEAA,KCxJeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA7D,KAAa8D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,UAAeG,aAAaC,OAAA,UAAiBJ,EAAA,UAAeG,aAAaC,OAAA,QAAgBC,OAAQC,KAAA,KAAUN,EAAA,gBAAqBG,aAAaC,OAAA,UAAiBJ,EAAA,OAAYE,YAAA,WAAqBF,EAAA,OAAAH,EAAAU,GAAA,QAAAV,EAAAU,GAAA,KAAAV,EAAAW,GAAAX,EAAA,gBAAAY,GAA0E,OAAAT,EAAA,OAAiBU,IAAIC,MAAA,SAAAC,GAAyB,OAAAf,EAAAvC,WAAAmD,OAA8BT,EAAA,KAAUE,YAAA,oBAA8BL,EAAAU,GAAAV,EAAAgB,GAAAJ,SAAyB,GAAAZ,EAAAU,GAAA,KAAAP,EAAA,cAAAH,EAAAU,GAAA,KAAAP,EAAA,OAAyDE,YAAA,UAAoBF,EAAA,OAAAH,EAAAU,GAAA,QAAAV,EAAAU,GAAA,KAAAV,EAAAW,GAAAX,EAAA,eAAAY,GAAyE,OAAAT,EAAA,OAAiBU,IAAIC,MAAA,SAAAC,GAAyB,OAAAf,EAAAvC,WAAAmD,OAA8BT,EAAA,KAAUE,YAAA,0BAAoCL,EAAAU,GAAAV,EAAAgB,GAAAJ,SAAyB,WAAAZ,EAAAU,GAAA,KAAAP,EAAA,UAAuCG,aAAaC,OAAA,QAAgBC,OAAQC,KAAA,MAAWN,EAAA,OAAYG,aAAaC,OAAA,SAAgBJ,EAAA,aAAkBK,OAAOS,KAAA,OAAAC,KAAA,WAA+BL,IAAKC,MAAA,SAAAC,GAAyB,OAAAf,EAAA1C,sBAA+B0C,EAAAU,GAAA,QAAAV,EAAAU,GAAA,KAAAP,EAAA,YAA4CgB,aAAa9F,KAAA,QAAA+F,QAAA,UAAAC,MAAArB,EAAA,IAAAsB,WAAA,QAAgEd,OAASe,GAAA,UAAcC,UAAWH,MAAArB,EAAA,KAAkBa,IAAKY,MAAA,SAAAV,GAAyBA,EAAAW,OAAAC,YAAsC3B,EAAAzE,IAAAwF,EAAAW,OAAAL,YAA8B,GAAArB,EAAAU,GAAA,KAAAP,EAAA,OAA4BE,YAAA,cAAAC,aAAuCC,OAAA,SAAgBJ,EAAA,YAAiBG,aAAasB,YAAA,OAAA/B,MAAA,QAAkCW,OAAQlF,KAAA0E,EAAAvE,UAAAoG,OAAA,GAAAC,aAAA9B,EAAAnE,QAAwDmE,EAAAW,GAAAX,EAAA,eAAA+B,EAAAC,GAA0C,OAAA7B,EAAA,mBAA8BT,IAAAsC,EAAAxB,OAAiByB,MAAAF,EAAAlC,MAAAG,EAAAL,UAAAoC,GAAAG,yBAAA,GAAsEC,YAAAnC,EAAAoC,KAAsB1C,IAAA,UAAA2C,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,QAAAH,EAAAU,GAAAV,EAAAgB,GAAAsB,EAAAC,IAAAR,WAAuD,eAAgB,kBAElyDS,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvH,EACA0E,GATF,EAVA,SAAA8C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/6.074fc07b92fa0b777e70.js","sourcesContent":["<template>\r\n  <div class=\"sql_box\">\r\n    <el-row style=\"height:100%;\">\r\n      <el-col :span=\"3\" style=\"height:100%;\">\r\n        <el-scrollbar style=\"height:100%\">\r\n          <div class=\"tables\">\r\n            <div>表格</div>\r\n            <div v-for=\"itme in tables\" @click=\"selectData(itme)\"><i class=\"el-icon-tickets\"></i>{{itme}}</div>\r\n          </div>\r\n          <el-divider></el-divider>\r\n          <div class=\"views\">\r\n            <div>视图</div>\r\n            <div v-for=\"itme in views\" @click=\"selectData(itme)\"><i class=\"el-icon-document-copy\"></i>{{itme}}</div>\r\n          </div>\r\n        </el-scrollbar>\r\n      </el-col>\r\n      <el-col :span=\"21\" style=\"height:100%\">\r\n        <div style=\"height:30%\">\r\n          <el-button size=\"mini\" type=\"primary\" @click=\"getSqlInjection()\">运行</el-button>\r\n          <textarea id=\"sqlBox\" v-model=\"sql\"></textarea>\r\n        </div>\r\n        <div class=\"sql_content\" style=\"height:70%\">\r\n          <el-table :data=\"tableData\" style=\"font-size: 12px; width:auto\" border :max-height=\"tabH\">\r\n            <template v-for=\"(item,index) in title\">\r\n              <el-table-column :key=\"index\" :label=\"item\" :width=\"showWidth(item)\" :show-overflow-tooltip=\"true\">\r\n                <template slot-scope=\"scope\"><span>{{scope.row[item]}}</span></template>\r\n              </el-table-column>\r\n            </template>\r\n          </el-table>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { sqlInjection, selectAllTable } from \"@/api/httpApi\";\r\nimport { pageObj, autoPageObjFun } from \"@/api/staticType\";\r\nexport default {\r\n  name: \"SqlInjection\",\r\n  data() {\r\n    return {\r\n      sql: \"\",\r\n      title: [],\r\n      tableData: [],\r\n      show: false,\r\n      tables: [],\r\n      views: [],\r\n      tabH: 0,\r\n      selectedText: \"\",\r\n    };\r\n  },\r\n  //生命周期 - 创建完成（访问当前this实例）\r\n  created() {\r\n    let obj = autoPageObjFun(140);\r\n    this.tabH = obj.tabH;\r\n  },\r\n  //生命周期 - 挂载完成（访问DOM元素）\r\n  mounted() {\r\n    let _this = this;\r\n    decodeURIComponent.onmousedown = function (event) {\r\n      window.getSelection\r\n        ? window.getSelection().removeAllRanges()\r\n        : document.selection.empty();\r\n    };\r\n    //监听鼠标抬起\r\n    document.onmouseup = function (event) {\r\n      // 获取选中的文字\r\n      var selectedText = null;\r\n      if (window.getSelection) {\r\n        // 标准模式\r\n        selectedText = window.getSelection().toString();\r\n      } else {\r\n        // IE 系列\r\n        selectedText = document.selection.createRange().text;\r\n      }\r\n      if (selectedText != null) {\r\n        _this.selectedText = selectedText;\r\n      }\r\n    };\r\n\r\n    document.onkeydown = function (e) {\r\n      if (e.code == \"F8\") {\r\n        _this.getSqlInjection();\r\n      }\r\n    };\r\n    this.showTables();\r\n  },\r\n  methods: {\r\n    async selectData(table) {\r\n      let sql = \"select * from \" + table;\r\n      let result = await sqlInjection(sql).then((data) => {\r\n        let response = data.data;\r\n        if (response.code === 0) {\r\n          return response.data;\r\n        } else {\r\n          return this.$message.error(response.msg);\r\n        }\r\n      });\r\n\r\n      this.initTable(result);\r\n    },\r\n    async showTables() {\r\n      let result = await selectAllTable().then((data) => {\r\n        let response = data.data;\r\n        if (response.code === 0) {\r\n          return response.data;\r\n        } else {\r\n          return this.$message.error(response.msg);\r\n        }\r\n      });\r\n\r\n      this.tables = [];\r\n      this.views = [];\r\n\r\n      for (let i = 0; i < result.length; i++) {\r\n        if (result[i].tableComment == \"VIEW\") {\r\n          this.views.push(result[i].tableName);\r\n        } else {\r\n          this.tables.push(result[i].tableName);\r\n        }\r\n      }\r\n    },\r\n    async getSqlInjection() {\r\n      let sql = this.sql;\r\n      if (this.selectedText != \"\" || this.selectedText != null) {\r\n        sql = this.selectedText;\r\n      }\r\n      let result = await sqlInjection(sql).then((data) => {\r\n        let response = data.data;\r\n        if (response.code === 0) {\r\n          return response.data;\r\n        } else {\r\n          return this.$message.error(response.msg);\r\n        }\r\n      });\r\n\r\n      this.initTable(result);\r\n    },\r\n\r\n    initTable(result) {\r\n      this.title = [];\r\n      for (var key in result[0]) {\r\n        this.title.push(key);\r\n      }\r\n      this.tableData = result;\r\n    },\r\n    showWidth(val) {\r\n      let width = (val.length + 2) * 10;\r\n      if (val == \"id\" || val == \"ID\") {\r\n        width = 150;\r\n      }\r\n      if (val == \"ip\" || val == \"IP\") {\r\n        width = 100;\r\n      }\r\n      return width;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.sql_box {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\ntextarea {\r\n  border: 0;\r\n  background-color: rgba(241, 241, 241, 0.98);\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 10px;\r\n  resize: none;\r\n  font-size: 14px;\r\n}\r\n.el-scrollbar >>> .el-scrollbar__wrap {\r\n  overflow-x: hidden;\r\n}\r\n.tables,\r\n.views {\r\n  padding: 10px;\r\n  font-size: 12px;\r\n  line-height: 24px;\r\n  cursor: pointer;\r\n}\r\n.tables div :hover,\r\n.views div :hover {\r\n  font-weight: bold;\r\n}\r\n.tables :hover i,\r\n.views :hover i {\r\n  font-weight: bold;\r\n}\r\n\r\n.tables i,\r\n.views i {\r\n  font-size: 16px;\r\n  margin-right: 4px;\r\n  color: #409eff;\r\n}\r\n\r\n/* @import url(); 引入css类 */\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/SqlInjection.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sql_box\"},[_c('el-row',{staticStyle:{\"height\":\"100%\"}},[_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":3}},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"tables\"},[_c('div',[_vm._v(\"表格\")]),_vm._v(\" \"),_vm._l((_vm.tables),function(itme){return _c('div',{on:{\"click\":function($event){return _vm.selectData(itme)}}},[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(_vm._s(itme))])})],2),_vm._v(\" \"),_c('el-divider'),_vm._v(\" \"),_c('div',{staticClass:\"views\"},[_c('div',[_vm._v(\"视图\")]),_vm._v(\" \"),_vm._l((_vm.views),function(itme){return _c('div',{on:{\"click\":function($event){return _vm.selectData(itme)}}},[_c('i',{staticClass:\"el-icon-document-copy\"}),_vm._v(_vm._s(itme))])})],2)],1)],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":21}},[_c('div',{staticStyle:{\"height\":\"30%\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.getSqlInjection()}}},[_vm._v(\"运行\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sql),expression:\"sql\"}],attrs:{\"id\":\"sqlBox\"},domProps:{\"value\":(_vm.sql)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.sql=$event.target.value}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"sql_content\",staticStyle:{\"height\":\"70%\"}},[_c('el-table',{staticStyle:{\"font-size\":\"12px\",\"width\":\"auto\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"max-height\":_vm.tabH}},[_vm._l((_vm.title),function(item,index){return [_c('el-table-column',{key:index,attrs:{\"label\":item,\"width\":_vm.showWidth(item),\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row[item]))])]}}],null,true)})]})],2)],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e72076bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/SqlInjection.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e72076bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SqlInjection.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SqlInjection.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SqlInjection.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e72076bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SqlInjection.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e72076bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/SqlInjection.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}